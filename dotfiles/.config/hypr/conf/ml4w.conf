#    __  _____  _____      __  _____          ___
#   /  |/  / / / / / | /| / / / ___/__  ___  / _/
#  / /|_/ / /_/_  _/ |/ |/ / / /__/ _ \/ _ \/ _/
# /_/  /_/____//_/ |__/|__/  \___/\___/_//_/_/
#

# SwayNC
layerrule2 = blur, swaync-control-center
layerrule2 = blur, swaync-notification-window
layerrule2 = ignorezero, swaync-control-center
layerrule2 = ignorezero, swaync-notification-window
layerrule2 = ignorealpha 0.5, swaync-control-center
layerrule2 = ignorealpha 0.5, swaync-notification-window

# Pavucontrol
windowrule {
    name = pavucontrol
    match:class = (.*org.pulseaudio.pavucontrol.*)
    float = true
    center = true
    pin = true
    size = 700 600
}

# Waypaper
windowrule {
    name = waypaper
    match:class = (.*waypaper.*)
    float = true
    center = true
    pin = true
    size = 900 700
}

# Newelle
windowrule {
    name = newelle
    match:class = (io.github.qwersyk.Newelle)
    float = true
    center = true
    pin = true
    size = 1000 700
}

# ML4W Calendar
windowrule {
    name = ml4w-calendar
    match:class = (com.ml4w.calendar)
    float = true
    move = monitor_w-window_w-18 85
    pin = true
    size = 400 400
}

# ML4W Sidebar
windowrule {
    name = ml4w-sidebar
    match:class = (com.ml4w.sidebar)
    float = true
    move = monitor_w-window_w-18 91
    pin = true
    size = 400 660
}

# ML4W Welcome
windowrule {
    name = ml4w-welcome
    match:class = (com.ml4w.welcome)
    float = true
    center = true
    pin = true
    size = 700 600
}

# ML4W Settings
windowrule {
    name = ml4w-settings
    match:class = (com.ml4w.settings)
    float = true
    center = true
    pin = true
    size = 800 600
}

# Blueman Manager
windowrule {
    name = blueman-manager
    match:class = (blueman-manager)
    float = true
    center = true
    size = 800 600
}

# nwg-look
windowrule {
    name = nwg-look
    match:class = (nwg-look)
    float = true
    center = true
    size = 700 600
}

# nwg-displays
windowrule {
    name = nwg-displays
    match:class = (nwg-displays)
    float = true
    center = true
    size = 900 600
}

# System Mission Center
windowrule {
    name = missioncenter
    match:class = (io.missioncenter.MissionCenter)
    float = true
    center = true
    pin = true
    size = 900 600
}

# Gnome Calculator
windowrule {
    name = gnome-calculator
    match:class = (org.gnome.Calculator)
    float = true
    center = true
    size = 700 600
}

# Hyprland Share Picker
windowrule {
    name = hyprland-share-picker
    match:class = (hyprland-share-picker)
    float = true
    pin = true
    center = true
    size = 600 400
}

# nm-connection-editor
windowrule {
    name = nm-connection-editor
    match:class = (nm-connection-editor)
    float = true
    center = true
    size = 800 700
}

# Picture-in-Picture
windowrule {
    name = Picture-in-Picture
    match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
    float = true
    pin = true
    center = true
}

# General floating
windowrule {
    name = dotfiles-floating
    match:class = (dotfiles-floating)
    float = true
    center = true
    size = 1000 700
}

# Dotfiles Sidepad
windowrule {
    name = dotfiles-sidepad
    match:class = (dotfiles-sidepad)
    float = true
    pin = true
    center = true
    size = 1000 700
}

# Float and center file pickers
# windowrule = float, class:xdg-desktop-portal-gtk, title:^(Open.*Files?|Save.*Files?|All Files|Save)
# windowrule = center, class:xdg-desktop-portal-gtk, title:^(Open.*Files?|Save.*Files?|All Files|Save)

# XDG Desktop Portal
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# QT
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1

# GDK
env = GDK_SCALE,1

# Toolkit Backend
env = GDK_BACKEND,wayland,x11,*
env = CLUTTER_BACKEND,wayland

# Mozilla
env = MOZ_ENABLE_WAYLAND,1

# Set the cursor size for xcursor
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

# Ozone
env = OZONE_PLATFORM,wayland
env = ELECTRON_OZONE_PLATFORM_HINT,wayland

# XWayland
xwayland {
  force_zero_scaling = true
}

# SDL version
env = SDL_VIDEODRIVER,wayland
